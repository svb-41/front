"/*\n * ATTENTION: The \"eval\" devtool has been used (maybe by default in mode: \"development\").\n * This devtool is neither made for production nor for readable output files.\n * It uses \"eval()\" calls to create a separate source file in the browser devtools.\n * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)\n * or disable the default devtool with \"devtool: false\".\n * If you are looking for production-ready output files, see mode: \"production\" (https://webpack.js.org/configuration/mode/).\n */\n/******/ (() => { // webpackBootstrap\n/******/ \t\"use strict\";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ \"../../../../../node_modules/@svb-41/core/build/comm.js\":\n/*!**************************************************************!*\\\n  !*** ../../../../../node_modules/@svb-41/core/build/comm.js ***!\n  \\**************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"Channel\\\": () => (/* binding */ Channel)\\n/* harmony export */ });\\n/* harmony import */ var _svb_41_engine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @svb-41/engine */ \\\"../../../../../node_modules/@svb-41/engine/build/index.js\\\");\\n\\nconst Channel = _svb_41_engine__WEBPACK_IMPORTED_MODULE_0__.engine.comm.Channel;\\n\\n//# sourceURL=webpack://starship-compiler/../../../../../node_modules/@svb-41/core/build/comm.js?\");\n\n/***/ }),\n\n/***/ \"../../../../../node_modules/@svb-41/core/build/console.js\":\n/*!*****************************************************************!*\\\n  !*** ../../../../../node_modules/@svb-41/core/build/console.js ***!\n  \\*****************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"log\\\": () => (/* binding */ log)\\n/* harmony export */ });\\n/* harmony import */ var _svb_41_engine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @svb-41/engine */ \\\"../../../../../node_modules/@svb-41/engine/build/index.js\\\");\\n\\n/** Log information to the console. */\\n\\nconst log = _svb_41_engine__WEBPACK_IMPORTED_MODULE_0__.helpers.console.logger;\\n\\n//# sourceURL=webpack://starship-compiler/../../../../../node_modules/@svb-41/core/build/console.js?\");\n\n/***/ }),\n\n/***/ \"../../../../../node_modules/@svb-41/core/build/geometry.js\":\n/*!******************************************************************!*\\\n  !*** ../../../../../node_modules/@svb-41/core/build/geometry.js ***!\n  \\******************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"PI\\\": () => (/* binding */ PI),\\n/* harmony export */   \\\"TWO_PI\\\": () => (/* binding */ TWO_PI),\\n/* harmony export */   \\\"dist\\\": () => (/* binding */ dist),\\n/* harmony export */   \\\"dist2\\\": () => (/* binding */ dist2),\\n/* harmony export */   \\\"nextPosition\\\": () => (/* binding */ nextPosition),\\n/* harmony export */   \\\"angle\\\": () => (/* binding */ angle),\\n/* harmony export */   \\\"turnToTarget\\\": () => (/* binding */ turnToTarget),\\n/* harmony export */   \\\"aim\\\": () => (/* binding */ aim)\\n/* harmony export */ });\\n/* harmony import */ var _svb_41_engine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @svb-41/engine */ \\\"../../../../../node_modules/@svb-41/engine/build/index.js\\\");\\n\\nconst PI = _svb_41_engine__WEBPACK_IMPORTED_MODULE_0__.helpers.geometry.PI;\\nconst TWO_PI = _svb_41_engine__WEBPACK_IMPORTED_MODULE_0__.helpers.geometry.TWO_PI;\\n/** Computes the distance between two positions.\\n * Use it only if you really need something precise.\\n * Because of geometry, dist requires a call to Math.sqrt, which is costly.\\n * Use dist2 if you can handles squared values. */\\n\\nconst dist = _svb_41_engine__WEBPACK_IMPORTED_MODULE_0__.engine.ship.dist;\\n/** Computes the square of the distance between the two positions.\\n * Useful when you need to compute quickly a distance to check collisions\\n * for example. */\\n\\nconst dist2 = _svb_41_engine__WEBPACK_IMPORTED_MODULE_0__.engine.ship.dist2;\\n/** Returns the n-th position. */\\n\\nconst nextPosition = _svb_41_engine__WEBPACK_IMPORTED_MODULE_0__.helpers.geometry.nextPosition;\\n/** Returns the angle between the source and the target, in radians.\\n * The result is comprised between 0 and 2Ï€. */\\n\\nconst angle = _svb_41_engine__WEBPACK_IMPORTED_MODULE_0__.helpers.geometry.angle;\\n/** Position the ship in direction of the target.\\n * delay can be set to try to forecast the position of the target\\n * and position at that place.\\n * For instance, if an enemy ship is going straight, you can forecast the\\n * future move and position the ship accordingly.\\n * delay defaults to 1. */\\n\\nconst turnToTarget = _svb_41_engine__WEBPACK_IMPORTED_MODULE_0__.helpers.geometry.turnToTarget;\\n/** Position the ship in direction of the target, and shoot if the target is in\\n * the fire range. The fire range is determined by the threshold. If\\n * angle(ship, target) is below the threshold, the fire range is fulfilled.\\n * threshold defaults to 0.1.\\n * delay can be set to try to forecast the position of the target\\n * and position at that place.\\n * For instance, if an enemy ship is going straight, you can forecast the\\n * future move and position the ship accordingly.\\n * delay defaults to 1.\\n * weapon can also be set to a number, corresponding to the index of the weapon\\n * you want to use. */\\n\\nconst aim = _svb_41_engine__WEBPACK_IMPORTED_MODULE_0__.helpers.geometry.aim;\\n\\n//# sourceURL=webpack://starship-compiler/../../../../../node_modules/@svb-41/core/build/geometry.js?\");\n\n/***/ }),\n\n/***/ \"../../../../../node_modules/@svb-41/core/build/index.js\":\n/*!***************************************************************!*\\\n  !*** ../../../../../node_modules/@svb-41/core/build/index.js ***!\n  \\***************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"comm\\\": () => (/* reexport module object */ _comm__WEBPACK_IMPORTED_MODULE_1__),\\n/* harmony export */   \\\"geometry\\\": () => (/* reexport module object */ _geometry__WEBPACK_IMPORTED_MODULE_2__),\\n/* harmony export */   \\\"ship\\\": () => (/* reexport module object */ _ship__WEBPACK_IMPORTED_MODULE_3__),\\n/* harmony export */   \\\"radar\\\": () => (/* reexport module object */ _radar__WEBPACK_IMPORTED_MODULE_4__),\\n/* harmony export */   \\\"console\\\": () => (/* reexport module object */ _console__WEBPACK_IMPORTED_MODULE_5__),\\n/* harmony export */   \\\"Instruction\\\": () => (/* binding */ Instruction),\\n/* harmony export */   \\\"idle\\\": () => (/* binding */ idle),\\n/* harmony export */   \\\"turn\\\": () => (/* binding */ turn),\\n/* harmony export */   \\\"thrust\\\": () => (/* binding */ thrust),\\n/* harmony export */   \\\"fire\\\": () => (/* binding */ fire)\\n/* harmony export */ });\\n/* harmony import */ var _svb_41_engine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @svb-41/engine */ \\\"../../../../../node_modules/@svb-41/engine/build/index.js\\\");\\n/* harmony import */ var _comm__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./comm */ \\\"../../../../../node_modules/@svb-41/core/build/comm.js\\\");\\n/* harmony import */ var _geometry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./geometry */ \\\"../../../../../node_modules/@svb-41/core/build/geometry.js\\\");\\n/* harmony import */ var _ship__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ship */ \\\"../../../../../node_modules/@svb-41/core/build/ship.js\\\");\\n/* harmony import */ var _radar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./radar */ \\\"../../../../../node_modules/@svb-41/core/build/radar.js\\\");\\n/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./console */ \\\"../../../../../node_modules/@svb-41/core/build/console.js\\\");\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nconst Instruction = _svb_41_engine__WEBPACK_IMPORTED_MODULE_0__.engine.control.INSTRUCTION;\\nconst idle = _svb_41_engine__WEBPACK_IMPORTED_MODULE_0__.engine.control.idle;\\nconst turn = _svb_41_engine__WEBPACK_IMPORTED_MODULE_0__.engine.control.turn;\\nconst thrust = _svb_41_engine__WEBPACK_IMPORTED_MODULE_0__.engine.control.thrust;\\nconst fire = _svb_41_engine__WEBPACK_IMPORTED_MODULE_0__.engine.control.fire;\\n\\n//# sourceURL=webpack://starship-compiler/../../../../../node_modules/@svb-41/core/build/index.js?\");\n\n/***/ }),\n\n/***/ \"../../../../../node_modules/@svb-41/core/build/radar.js\":\n/*!***************************************************************!*\\\n  !*** ../../../../../node_modules/@svb-41/core/build/radar.js ***!\n  \\***************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"closeEnemies\\\": () => (/* binding */ closeEnemies),\\n/* harmony export */   \\\"nearestEnemy\\\": () => (/* binding */ nearestEnemy)\\n/* harmony export */ });\\n/* harmony import */ var _svb_41_engine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @svb-41/engine */ \\\"../../../../../node_modules/@svb-41/engine/build/index.js\\\");\\n\\n/** Get the enemies detected by the radar.\\n * Removes the allies detected by the radar.\\n * If options.all is set to true, it will also keep the destroyed ships.\\n * options.all is false by default. */\\n\\nconst closeEnemies = _svb_41_engine__WEBPACK_IMPORTED_MODULE_0__.helpers.radar.closeEnemies;\\n/** Get the nearest enemy detected by the radar.\\n * If no enemy is found, returns undefined.\\n * In case of options, if options.all it can indicates a destroyed ship.\\n * options.all is false by default. */\\n\\nconst nearestEnemy = _svb_41_engine__WEBPACK_IMPORTED_MODULE_0__.helpers.radar.nearestEnemy;\\n\\n//# sourceURL=webpack://starship-compiler/../../../../../node_modules/@svb-41/core/build/radar.js?\");\n\n/***/ }),\n\n/***/ \"../../../../../node_modules/@svb-41/core/build/ship.js\":\n/*!**************************************************************!*\\\n  !*** ../../../../../node_modules/@svb-41/core/build/ship.js ***!\n  \\**************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"SHIP_CLASS\\\": () => (/* binding */ SHIP_CLASS),\\n/* harmony export */   \\\"position\\\": () => (/* binding */ position)\\n/* harmony export */ });\\n/* harmony import */ var _svb_41_engine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @svb-41/engine */ \\\"../../../../../node_modules/@svb-41/engine/build/index.js\\\");\\n\\nconst SHIP_CLASS = _svb_41_engine__WEBPACK_IMPORTED_MODULE_0__.engine.ship.SHIP_CLASS;\\n/** Generates the next position of the position. */\\n\\nconst position = _svb_41_engine__WEBPACK_IMPORTED_MODULE_0__.engine.ship.position;\\n\\n//# sourceURL=webpack://starship-compiler/../../../../../node_modules/@svb-41/core/build/ship.js?\");\n\n/***/ }),\n\n/***/ \"../../../../../node_modules/@svb-41/engine/build/engine/comm.js\":\n/*!***********************************************************************!*\\\n  !*** ../../../../../node_modules/@svb-41/engine/build/engine/comm.js ***!\n  \\***********************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"Channel\\\": () => (/* binding */ Channel)\\n/* harmony export */ });\\nvar __classPrivateFieldSet = undefined && undefined.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\\n  if (kind === \\\"m\\\") throw new TypeError(\\\"Private method is not writable\\\");\\n  if (kind === \\\"a\\\" && !f) throw new TypeError(\\\"Private accessor was defined without a setter\\\");\\n  if (typeof state === \\\"function\\\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\\\"Cannot write private member to an object whose class did not declare it\\\");\\n  return kind === \\\"a\\\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\\n};\\n\\nvar __classPrivateFieldGet = undefined && undefined.__classPrivateFieldGet || function (receiver, state, kind, f) {\\n  if (kind === \\\"a\\\" && !f) throw new TypeError(\\\"Private accessor was defined without a getter\\\");\\n  if (typeof state === \\\"function\\\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\\\"Cannot read private member from an object whose class did not declare it\\\");\\n  return kind === \\\"m\\\" ? f : kind === \\\"a\\\" ? f.call(receiver) : f ? f.value : state.get(receiver);\\n};\\n\\nvar _Channel_id, _Channel_history;\\n/** Communication channel. Accept messages and let read them through history. */\\n\\n\\nclass Channel {\\n  constructor(id) {\\n    _Channel_id.set(this, void 0);\\n\\n    _Channel_history.set(this, []);\\n    /** Send a message on the channel, providing the payload. */\\n\\n\\n    this.sendMessage = content => {\\n      const message = {\\n        timeSend: Date.now(),\\n        content\\n      };\\n\\n      __classPrivateFieldGet(this, _Channel_history, \\\"f\\\").push(message);\\n    };\\n    /** Get the messages since the requested time. */\\n\\n\\n    this.messagesSince = time => {\\n      return __classPrivateFieldGet(this, _Channel_history, \\\"f\\\").filter(message => {\\n        return message.timeSend > time;\\n      });\\n    };\\n\\n    __classPrivateFieldSet(this, _Channel_id, id, \\\"f\\\");\\n  }\\n  /** The ID of a channel is an UUID. */\\n\\n\\n  get id() {\\n    return __classPrivateFieldGet(this, _Channel_id, \\\"f\\\");\\n  }\\n  /** history can be explored in a readonly way. */\\n\\n\\n  get history() {\\n    return __classPrivateFieldGet(this, _Channel_history, \\\"f\\\");\\n  }\\n\\n}\\n_Channel_id = new WeakMap(), _Channel_history = new WeakMap();\\n\\n//# sourceURL=webpack://starship-compiler/../../../../../node_modules/@svb-41/engine/build/engine/comm.js?\");\n\n/***/ }),\n\n/***/ \"../../../../../node_modules/@svb-41/engine/build/engine/config/builder.js\":\n/*!*********************************************************************************!*\\\n  !*** ../../../../../node_modules/@svb-41/engine/build/engine/config/builder.js ***!\n  \\*********************************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"buildFighter\\\": () => (/* binding */ buildFighter),\\n/* harmony export */   \\\"buildStealth\\\": () => (/* binding */ buildStealth),\\n/* harmony export */   \\\"buildDestroyer\\\": () => (/* binding */ buildDestroyer),\\n/* harmony export */   \\\"buildCruiser\\\": () => (/* binding */ buildCruiser),\\n/* harmony export */   \\\"buildBomber\\\": () => (/* binding */ buildBomber),\\n/* harmony export */   \\\"buildScout\\\": () => (/* binding */ buildScout),\\n/* harmony export */   \\\"buildTorpedo\\\": () => (/* binding */ buildTorpedo),\\n/* harmony export */   \\\"buildHomingTorpedo\\\": () => (/* binding */ buildHomingTorpedo),\\n/* harmony export */   \\\"buildMine\\\": () => (/* binding */ buildMine)\\n/* harmony export */ });\\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! uuid */ \\\"../../../../../node_modules/uuid/dist/esm-browser/v4.js\\\");\\n/* harmony import */ var _ship__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ship */ \\\"../../../../../node_modules/@svb-41/engine/build/engine/config/ship.js\\\");\\n/* harmony import */ var _ship__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ship */ \\\"../../../../../node_modules/@svb-41/engine/build/engine/ship.js\\\");\\n/* harmony import */ var _control__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../control */ \\\"../../../../../node_modules/@svb-41/engine/build/engine/control.js\\\");\\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../helpers */ \\\"../../../../../node_modules/@svb-41/engine/build/helpers/index.js\\\");\\n\\n\\n\\n\\n\\n\\nconst buildShip = blueprint => {\\n  return props => {\\n    const defaultPosition = {\\n      pos: {\\n        x: 0,\\n        y: 0\\n      },\\n      direction: 0\\n    };\\n    const {\\n      position = defaultPosition,\\n      team = 'none'\\n    } = props;\\n    return Object.assign(Object.assign({}, blueprint), {\\n      id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\\\"default\\\"])(),\\n      weapons: blueprint.weapons.map(w => Object.assign({}, w)),\\n      position: Object.assign(Object.assign({}, blueprint.position), position),\\n      team\\n    });\\n  };\\n};\\n\\nconst buildFighter = buildShip(_ship__WEBPACK_IMPORTED_MODULE_0__.FIGHTER);\\nconst buildStealth = buildShip(_ship__WEBPACK_IMPORTED_MODULE_0__.STEALTH);\\nconst buildDestroyer = buildShip(_ship__WEBPACK_IMPORTED_MODULE_0__.DESTROYER);\\nconst buildCruiser = buildShip(_ship__WEBPACK_IMPORTED_MODULE_0__.CRUISER);\\nconst buildBomber = buildShip(_ship__WEBPACK_IMPORTED_MODULE_0__.BOMBER);\\nconst buildScout = buildShip(_ship__WEBPACK_IMPORTED_MODULE_0__.SCOUT);\\n\\nconst navigateTo = ({\\n  bullet,\\n  stats,\\n  memory\\n}) => {\\n  if (stats.position.speed < 0.6) return bullet.thrust(0.1);\\n  return _helpers__WEBPACK_IMPORTED_MODULE_3__.geometry.turnToTarget({\\n    ship: bullet,\\n    source: stats.position,\\n    target: {\\n      direction: 0,\\n      speed: 0,\\n      pos: memory.target\\n    }\\n  });\\n};\\n\\nconst buildTorpedo = target => new _control__WEBPACK_IMPORTED_MODULE_2__.BulletController(navigateTo, target);\\n\\nconst homeTo = ({\\n  bullet,\\n  stats,\\n  memory,\\n  radar\\n}) => {\\n  if (stats.position.speed < 0.6) return bullet.thrust(0.1);\\n  memory.armedTime--;\\n\\n  if (memory.armedTime < 0) {\\n    const closeEnemy = radar.filter(r => !r.destroyed).map(res => ({\\n      res,\\n      dist: (0,_ship__WEBPACK_IMPORTED_MODULE_1__.dist2)(res.position, stats.position)\\n    }));\\n\\n    if (closeEnemy.length > 0) {\\n      const nearestEnemy = closeEnemy.reduce((acc, val) => acc.dist > val.dist ? val : acc);\\n      return _helpers__WEBPACK_IMPORTED_MODULE_3__.geometry.turnToTarget({\\n        ship: bullet,\\n        source: stats.position,\\n        target: {\\n          direction: 0,\\n          speed: 0,\\n          pos: nearestEnemy.res.position.pos\\n        }\\n      });\\n    }\\n  }\\n\\n  return _helpers__WEBPACK_IMPORTED_MODULE_3__.geometry.turnToTarget({\\n    ship: bullet,\\n    source: stats.position,\\n    target: {\\n      direction: 0,\\n      speed: 0,\\n      pos: memory.target\\n    }\\n  });\\n};\\n\\nconst buildHomingTorpedo = target => new _control__WEBPACK_IMPORTED_MODULE_2__.BulletController(homeTo, target);\\n\\nconst mineTo = ({\\n  bullet,\\n  stats,\\n  memory,\\n  radar\\n}) => {\\n  memory.armedTime--;\\n\\n  if (memory.armedTime < 0) {\\n    const closeEnemy = radar.filter(r => !r.destroyed).map(res => ({\\n      res,\\n      dist: (0,_ship__WEBPACK_IMPORTED_MODULE_1__.dist2)(res.position, stats.position)\\n    }));\\n\\n    if (closeEnemy.length > 0) {\\n      const nearestEnemy = closeEnemy.reduce((acc, val) => acc.dist > val.dist ? val : acc);\\n      if (stats.position.speed < 0.2) return bullet.thrust();\\n      return _helpers__WEBPACK_IMPORTED_MODULE_3__.geometry.turnToTarget({\\n        ship: bullet,\\n        source: stats.position,\\n        target: {\\n          direction: 0,\\n          speed: 0,\\n          pos: nearestEnemy.res.position.pos\\n        }\\n      });\\n    }\\n  }\\n\\n  const pos = memory.target;\\n  const d = (0,_ship__WEBPACK_IMPORTED_MODULE_1__.dist2)(stats.position, {\\n    direction: 0,\\n    speed: 0,\\n    pos\\n  });\\n\\n  if (d < 1) {\\n    if (stats.position.speed === 0) return bullet.idle();\\n    return bullet.thrust(-stats.position.speed);\\n  } else {\\n    if (stats.position.speed < 0.1) return bullet.thrust(0.1);\\n  }\\n\\n  return _helpers__WEBPACK_IMPORTED_MODULE_3__.geometry.turnToTarget({\\n    ship: bullet,\\n    source: stats.position,\\n    target: {\\n      direction: 0,\\n      speed: 0,\\n      pos: memory.target\\n    }\\n  });\\n};\\n\\nconst buildMine = target => new _control__WEBPACK_IMPORTED_MODULE_2__.BulletController(mineTo, target);\\n\\n//# sourceURL=webpack://starship-compiler/../../../../../node_modules/@svb-41/engine/build/engine/config/builder.js?\");\n\n/***/ }),\n\n/***/ \"../../../../../node_modules/@svb-41/engine/build/engine/config/index.js\":\n/*!*******************************************************************************!*\\\n  !*** ../../../../../node_modules/@svb-41/engine/build/engine/config/index.js ***!\n  \\*******************************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"builder\\\": () => (/* reexport module object */ _builder__WEBPACK_IMPORTED_MODULE_0__),\\n/* harmony export */   \\\"ship\\\": () => (/* reexport module object */ _ship__WEBPACK_IMPORTED_MODULE_1__),\\n/* harmony export */   \\\"weapon\\\": () => (/* reexport module object */ _weapon__WEBPACK_IMPORTED_MODULE_2__)\\n/* harmony export */ });\\n/* harmony import */ var _builder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./builder */ \\\"../../../../../node_modules/@svb-41/engine/build/engine/config/builder.js\\\");\\n/* harmony import */ var _ship__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ship */ \\\"../../../../../node_modules/@svb-41/engine/build/engine/config/ship.js\\\");\\n/* harmony import */ var _weapon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./weapon */ \\\"../../../../../node_modules/@svb-41/engine/build/engine/config/weapon.js\\\");\\n\\n\\n\\n\\n\\n\\n\\n//# sourceURL=webpack://starship-compiler/../../../../../node_modules/@svb-41/engine/build/engine/config/index.js?\");\n\n/***/ }),\n\n/***/ \"../../../../../node_modules/@svb-41/engine/build/engine/config/ship.js\":\n/*!******************************************************************************!*\\\n  !*** ../../../../../node_modules/@svb-41/engine/build/engine/config/ship.js ***!\n  \\******************************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"FIGHTER\\\": () => (/* binding */ FIGHTER),\\n/* harmony export */   \\\"SCOUT\\\": () => (/* binding */ SCOUT),\\n/* harmony export */   \\\"BOMBER\\\": () => (/* binding */ BOMBER),\\n/* harmony export */   \\\"CRUISER\\\": () => (/* binding */ CRUISER),\\n/* harmony export */   \\\"STEALTH\\\": () => (/* binding */ STEALTH),\\n/* harmony export */   \\\"DESTROYER\\\": () => (/* binding */ DESTROYER),\\n/* harmony export */   \\\"MOTHER_BASE\\\": () => (/* binding */ MOTHER_BASE)\\n/* harmony export */ });\\n/* harmony import */ var _ship__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ship */ \\\"../../../../../node_modules/@svb-41/engine/build/engine/ship.js\\\");\\n/* harmony import */ var _weapon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./weapon */ \\\"../../../../../node_modules/@svb-41/engine/build/engine/config/weapon.js\\\");\\n\\n\\nconst FIGHTER = {\\n  id: 'fighter',\\n  shipClass: _ship__WEBPACK_IMPORTED_MODULE_0__.SHIP_CLASS.FIGHTER,\\n  position: {\\n    pos: {\\n      x: 0,\\n      y: 0\\n    },\\n    direction: 0,\\n    speed: 0\\n  },\\n  stats: {\\n    size: 8,\\n    acceleration: 0.01,\\n    turn: Math.PI / 30,\\n    detection: 200\\n  },\\n  destroyed: false,\\n  team: 'none',\\n  bulletsFired: 0,\\n  stealth: 600,\\n  weapons: [{\\n    bullet: _weapon__WEBPACK_IMPORTED_MODULE_1__.FAST_BULLET,\\n    amo: 15,\\n    coolDown: 0\\n  }, {\\n    bullet: _weapon__WEBPACK_IMPORTED_MODULE_1__.FAST_BULLET,\\n    amo: 15,\\n    coolDown: 0\\n  }]\\n};\\nconst SCOUT = {\\n  id: 'scout',\\n  shipClass: _ship__WEBPACK_IMPORTED_MODULE_0__.SHIP_CLASS.SCOUT,\\n  position: {\\n    pos: {\\n      x: 0,\\n      y: 0\\n    },\\n    direction: 0,\\n    speed: 0\\n  },\\n  stats: {\\n    size: 8,\\n    acceleration: 0.05,\\n    turn: Math.PI / 10,\\n    detection: 600\\n  },\\n  destroyed: false,\\n  team: 'none',\\n  bulletsFired: 0,\\n  stealth: 600,\\n  weapons: []\\n};\\nconst BOMBER = {\\n  id: 'bomber',\\n  shipClass: _ship__WEBPACK_IMPORTED_MODULE_0__.SHIP_CLASS.BOMBER,\\n  position: {\\n    pos: {\\n      x: 0,\\n      y: 0\\n    },\\n    direction: 0,\\n    speed: 0\\n  },\\n  stats: {\\n    size: 16,\\n    acceleration: 0.001,\\n    turn: Math.PI / 30,\\n    detection: 400\\n  },\\n  destroyed: false,\\n  team: 'none',\\n  bulletsFired: 0,\\n  stealth: 600,\\n  weapons: [{\\n    bullet: _weapon__WEBPACK_IMPORTED_MODULE_1__.TORPEDO,\\n    amo: 10,\\n    coolDown: 0\\n  }, {\\n    bullet: _weapon__WEBPACK_IMPORTED_MODULE_1__.HOMING_TORPEDO,\\n    amo: 8,\\n    coolDown: 0\\n  }, {\\n    bullet: _weapon__WEBPACK_IMPORTED_MODULE_1__.MINE,\\n    amo: 4,\\n    coolDown: 0\\n  }]\\n};\\nconst CRUISER = {\\n  id: 'cruiser',\\n  shipClass: _ship__WEBPACK_IMPORTED_MODULE_0__.SHIP_CLASS.CRUISER,\\n  position: {\\n    pos: {\\n      x: 0,\\n      y: 0\\n    },\\n    direction: 0,\\n    speed: 0\\n  },\\n  stats: {\\n    size: 16,\\n    acceleration: 0.001,\\n    turn: Math.PI / 80,\\n    detection: 400\\n  },\\n  destroyed: false,\\n  team: 'none',\\n  bulletsFired: 0,\\n  stealth: 600,\\n  weapons: [{\\n    bullet: _weapon__WEBPACK_IMPORTED_MODULE_1__.BASIC_BULLET,\\n    amo: 10,\\n    coolDown: 0\\n  }, {\\n    bullet: _weapon__WEBPACK_IMPORTED_MODULE_1__.BASIC_BULLET,\\n    amo: 10,\\n    coolDown: 0\\n  }]\\n};\\nconst STEALTH = {\\n  id: 'stealth',\\n  shipClass: _ship__WEBPACK_IMPORTED_MODULE_0__.SHIP_CLASS.STEALTH,\\n  position: {\\n    pos: {\\n      x: 0,\\n      y: 0\\n    },\\n    direction: 0,\\n    speed: 0\\n  },\\n  stats: {\\n    size: 8,\\n    acceleration: 0.002,\\n    turn: Math.PI / 30,\\n    detection: 200,\\n    stealth: true\\n  },\\n  destroyed: false,\\n  team: 'none',\\n  bulletsFired: 0,\\n  stealth: 0,\\n  weapons: [{\\n    bullet: _weapon__WEBPACK_IMPORTED_MODULE_1__.FAST_BULLET,\\n    amo: 5,\\n    coolDown: 0\\n  }]\\n};\\nconst DESTROYER = {\\n  id: 'destroyer',\\n  shipClass: _ship__WEBPACK_IMPORTED_MODULE_0__.SHIP_CLASS.DESTROYER,\\n  position: {\\n    pos: {\\n      x: 0,\\n      y: 0\\n    },\\n    direction: 0,\\n    speed: 0\\n  },\\n  stats: {\\n    size: 16,\\n    acceleration: 0.001,\\n    turn: Math.PI / 120,\\n    detection: 400\\n  },\\n  destroyed: false,\\n  team: 'none',\\n  bulletsFired: 0,\\n  stealth: 600,\\n  weapons: [{\\n    bullet: _weapon__WEBPACK_IMPORTED_MODULE_1__.LONG_BULLET,\\n    amo: 10,\\n    coolDown: 0\\n  }, {\\n    bullet: _weapon__WEBPACK_IMPORTED_MODULE_1__.TORPEDO,\\n    amo: 8,\\n    coolDown: 0\\n  }]\\n};\\nconst MOTHER_BASE = {\\n  id: 'base',\\n  shipClass: _ship__WEBPACK_IMPORTED_MODULE_0__.SHIP_CLASS.BASE,\\n  position: {\\n    pos: {\\n      x: 0,\\n      y: 0\\n    },\\n    direction: 0,\\n    speed: 0\\n  },\\n  stats: {\\n    size: 32,\\n    acceleration: 0,\\n    turn: Math.PI / 30,\\n    detection: 10\\n  },\\n  destroyed: false,\\n  team: 'none',\\n  bulletsFired: 0,\\n  stealth: 600,\\n  weapons: []\\n};\\n\\n//# sourceURL=webpack://starship-compiler/../../../../../node_modules/@svb-41/engine/build/engine/config/ship.js?\");\n\n/***/ }),\n\n/***/ \"../../../../../node_modules/@svb-41/engine/build/engine/config/weapon.js\":\n/*!********************************************************************************!*\\\n  !*** ../../../../../node_modules/@svb-41/engine/build/engine/config/weapon.js ***!\n  \\********************************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"BASIC_BULLET\\\": () => (/* binding */ BASIC_BULLET),\\n/* harmony export */   \\\"TORPEDO\\\": () => (/* binding */ TORPEDO),\\n/* harmony export */   \\\"MINE\\\": () => (/* binding */ MINE),\\n/* harmony export */   \\\"HOMING_TORPEDO\\\": () => (/* binding */ HOMING_TORPEDO),\\n/* harmony export */   \\\"FAST_BULLET\\\": () => (/* binding */ FAST_BULLET),\\n/* harmony export */   \\\"LONG_BULLET\\\": () => (/* binding */ LONG_BULLET)\\n/* harmony export */ });\\n/* harmony import */ var _builder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./builder */ \\\"../../../../../node_modules/@svb-41/engine/build/engine/config/builder.js\\\");\\n\\nconst BASIC_BULLET = {\\n  id: 'basic-bullet',\\n  position: {\\n    pos: {\\n      x: 0,\\n      y: 0\\n    },\\n    direction: 0,\\n    speed: 0.8\\n  },\\n  stats: {\\n    size: 4,\\n    acceleration: 0,\\n    turn: 0\\n  },\\n  distance: 0,\\n  armed: false,\\n  range: 600,\\n  coolDown: 400,\\n  destroyed: false\\n};\\nconst TORPEDO = {\\n  id: 'torpedo',\\n  position: {\\n    pos: {\\n      x: 0,\\n      y: 0\\n    },\\n    direction: 0,\\n    speed: 0\\n  },\\n  stats: {\\n    size: 8,\\n    acceleration: 0.02,\\n    turn: Math.PI / 40\\n  },\\n  distance: 0,\\n  armed: false,\\n  range: 6000,\\n  coolDown: 4000,\\n  destroyed: false,\\n  builder: () => _builder__WEBPACK_IMPORTED_MODULE_0__.buildTorpedo\\n};\\nconst MINE = {\\n  id: 'mine',\\n  position: {\\n    pos: {\\n      x: 0,\\n      y: 0\\n    },\\n    direction: 0,\\n    speed: 0\\n  },\\n  stats: {\\n    size: 8,\\n    acceleration: 0.01,\\n    turn: Math.PI / 400,\\n    detection: 32\\n  },\\n  distance: 0,\\n  armed: false,\\n  range: 6000,\\n  coolDown: 1000,\\n  destroyed: false,\\n  builder: () => _builder__WEBPACK_IMPORTED_MODULE_0__.buildMine\\n};\\nconst HOMING_TORPEDO = {\\n  id: 'homing-torpedo',\\n  position: {\\n    pos: {\\n      x: 0,\\n      y: 0\\n    },\\n    direction: 0,\\n    speed: 0\\n  },\\n  stats: {\\n    size: 8,\\n    acceleration: 0.02,\\n    turn: Math.PI / 40,\\n    detection: 100\\n  },\\n  distance: 0,\\n  armed: false,\\n  range: 6000,\\n  coolDown: 4000,\\n  destroyed: false,\\n  builder: () => _builder__WEBPACK_IMPORTED_MODULE_0__.buildHomingTorpedo\\n};\\nconst FAST_BULLET = {\\n  id: 'fast-bullet',\\n  position: {\\n    pos: {\\n      x: 0,\\n      y: 0\\n    },\\n    direction: 0,\\n    speed: 0.8\\n  },\\n  stats: {\\n    size: 4,\\n    acceleration: 0,\\n    turn: 0\\n  },\\n  distance: 0,\\n  armed: false,\\n  range: 300,\\n  coolDown: 50,\\n  destroyed: false\\n};\\nconst LONG_BULLET = {\\n  id: 'long-bullet',\\n  position: {\\n    pos: {\\n      x: 0,\\n      y: 0\\n    },\\n    direction: 0,\\n    speed: 0.8\\n  },\\n  stats: {\\n    size: 4,\\n    acceleration: 0,\\n    turn: 0\\n  },\\n  distance: 0,\\n  armed: false,\\n  range: 3000,\\n  coolDown: 5000,\\n  destroyed: false\\n};\\n\\n//# sourceURL=webpack://starship-compiler/../../../../../node_modules/@svb-41/engine/build/engine/config/weapon.js?\");\n\n/***/ }),\n\n/***/ \"../../../../../node_modules/@svb-41/engine/build/engine/control.js\":\n/*!**************************************************************************!*\\\n  !*** ../../../../../node_modules/@svb-41/engine/build/engine/control.js ***!\n  \\**************************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"BulletController\\\": () => (/* binding */ BulletController),\\n/* harmony export */   \\\"INSTRUCTION\\\": () => (/* binding */ INSTRUCTION),\\n/* harmony export */   \\\"idle\\\": () => (/* binding */ idle),\\n/* harmony export */   \\\"turn\\\": () => (/* binding */ turn),\\n/* harmony export */   \\\"thrust\\\": () => (/* binding */ thrust),\\n/* harmony export */   \\\"fire\\\": () => (/* binding */ fire),\\n/* harmony export */   \\\"controlPanel\\\": () => (/* binding */ controlPanel),\\n/* harmony export */   \\\"bulletControlPanel\\\": () => (/* binding */ bulletControlPanel)\\n/* harmony export */ });\\nvar __classPrivateFieldSet = undefined && undefined.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\\n  if (kind === \\\"m\\\") throw new TypeError(\\\"Private method is not writable\\\");\\n  if (kind === \\\"a\\\" && !f) throw new TypeError(\\\"Private accessor was defined without a setter\\\");\\n  if (typeof state === \\\"function\\\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\\\"Cannot write private member to an object whose class did not declare it\\\");\\n  return kind === \\\"a\\\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\\n};\\n\\nvar __classPrivateFieldGet = undefined && undefined.__classPrivateFieldGet || function (receiver, state, kind, f) {\\n  if (kind === \\\"a\\\" && !f) throw new TypeError(\\\"Private accessor was defined without a getter\\\");\\n  if (typeof state === \\\"function\\\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\\\"Cannot read private member from an object whose class did not declare it\\\");\\n  return kind === \\\"m\\\" ? f : kind === \\\"a\\\" ? f.call(receiver) : f ? f.value : state.get(receiver);\\n};\\n\\nvar _BulletController_data, _BulletController_getInstruction;\\n\\nclass BulletController {\\n  constructor(getInstruction, initialData) {\\n    _BulletController_data.set(this, void 0);\\n\\n    _BulletController_getInstruction.set(this, void 0);\\n\\n    this.next = (bullet, radar) => {\\n      return __classPrivateFieldGet(this, _BulletController_getInstruction, \\\"f\\\").call(this, {\\n        stats: bullet,\\n        radar,\\n        memory: __classPrivateFieldGet(this, _BulletController_data, \\\"f\\\"),\\n        bullet: bulletControlPanel(bullet)\\n      });\\n    };\\n\\n    __classPrivateFieldSet(this, _BulletController_data, initialData, \\\"f\\\");\\n\\n    __classPrivateFieldSet(this, _BulletController_getInstruction, getInstruction, \\\"f\\\");\\n  }\\n\\n}\\n_BulletController_data = new WeakMap(), _BulletController_getInstruction = new WeakMap();\\nvar INSTRUCTION;\\n\\n(function (INSTRUCTION) {\\n  INSTRUCTION[\\\"DEFAULT\\\"] = \\\"DEFAULT\\\";\\n  INSTRUCTION[\\\"IDLE\\\"] = \\\"IDLE\\\";\\n  INSTRUCTION[\\\"TURN\\\"] = \\\"TURN\\\";\\n  INSTRUCTION[\\\"FIRE\\\"] = \\\"FIRE\\\";\\n  INSTRUCTION[\\\"THRUST\\\"] = \\\"THRUST\\\";\\n})(INSTRUCTION || (INSTRUCTION = {}));\\n\\nconst idle = () => ({\\n  id: INSTRUCTION.IDLE\\n});\\nconst turn = arg => ({\\n  id: INSTRUCTION.TURN,\\n  arg\\n});\\nconst thrust = arg => ({\\n  id: INSTRUCTION.THRUST,\\n  arg\\n});\\nconst fire = (arg, target) => {\\n  return {\\n    id: INSTRUCTION.FIRE,\\n    arg,\\n    target\\n  };\\n};\\nconst controlPanel = ship => ({\\n  idle: () => idle(),\\n  turn: arg => turn(arg ? arg : ship.stats.turn),\\n  turnRight: arg => turn(arg ? -arg : -ship.stats.turn),\\n  turnLeft: arg => turn(arg ? arg : ship.stats.turn),\\n  fire: (arg, target) => fire(arg ? arg : 0, target),\\n  thrust: arg => thrust(arg ? arg : ship.stats.acceleration)\\n});\\nconst bulletControlPanel = bullet => ({\\n  idle: () => idle(),\\n  turn: arg => turn(arg ? arg : bullet.stats.turn),\\n  turnRight: arg => turn(arg ? -arg : -bullet.stats.turn),\\n  turnLeft: arg => turn(arg ? arg : bullet.stats.turn),\\n  thrust: arg => thrust(arg ? arg : bullet.stats.acceleration)\\n});\\n\\n//# sourceURL=webpack://starship-compiler/../../../../../node_modules/@svb-41/engine/build/engine/control.js?\");\n\n/***/ }),\n\n/***/ \"../../../../../node_modules/@svb-41/engine/build/engine/index.js\":\n/*!************************************************************************!*\\\n  !*** ../../../../../node_modules/@svb-41/engine/build/engine/index.js ***!\n  \\************************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"control\\\": () => (/* reexport module object */ _control__WEBPACK_IMPORTED_MODULE_1__),\\n/* harmony export */   \\\"comm\\\": () => (/* reexport module object */ _comm__WEBPACK_IMPORTED_MODULE_3__),\\n/* harmony export */   \\\"ship\\\": () => (/* reexport module object */ _ship__WEBPACK_IMPORTED_MODULE_0__),\\n/* harmony export */   \\\"config\\\": () => (/* reexport module object */ _config__WEBPACK_IMPORTED_MODULE_4__),\\n/* harmony export */   \\\"Engine\\\": () => (/* binding */ Engine),\\n/* harmony export */   \\\"getInstructions\\\": () => (/* binding */ getInstructions)\\n/* harmony export */ });\\n/* harmony import */ var _ship__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ship */ \\\"../../../../../node_modules/@svb-41/engine/build/engine/ship.js\\\");\\n/* harmony import */ var _control__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./control */ \\\"../../../../../node_modules/@svb-41/engine/build/engine/control.js\\\");\\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helpers */ \\\"../../../../../node_modules/@svb-41/engine/build/helpers/index.js\\\");\\n/* harmony import */ var _comm__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./comm */ \\\"../../../../../node_modules/@svb-41/engine/build/engine/comm.js\\\");\\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./config */ \\\"../../../../../node_modules/@svb-41/engine/build/engine/config/index.js\\\");\\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\\n  function adopt(value) {\\n    return value instanceof P ? value : new P(function (resolve) {\\n      resolve(value);\\n    });\\n  }\\n\\n  return new (P || (P = Promise))(function (resolve, reject) {\\n    function fulfilled(value) {\\n      try {\\n        step(generator.next(value));\\n      } catch (e) {\\n        reject(e);\\n      }\\n    }\\n\\n    function rejected(value) {\\n      try {\\n        step(generator[\\\"throw\\\"](value));\\n      } catch (e) {\\n        reject(e);\\n      }\\n    }\\n\\n    function step(result) {\\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\\n    }\\n\\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\\n  });\\n};\\n\\n\\n\\n\\n\\nconst {\\n  TWO_PI\\n} = _helpers__WEBPACK_IMPORTED_MODULE_2__.geometry;\\n\\n\\n\\n\\n\\n\\n\\n\\nclass Engine extends EventTarget {\\n  constructor(initialState, controllers, gameEnder) {\\n    super();\\n    this.history = [];\\n    this.state = initialState;\\n    this.gameEnder = gameEnder;\\n    this.workers = controllers.map(controller => ({\\n      id: controller.shipId,\\n      worker: new Worker('/worker.js?id=' + controller.shipId),\\n      code: controller.code,\\n      messages: {\\n        from: [],\\n        to: []\\n      }\\n    }));\\n    this.workers.forEach(w => w.worker.onmessage = event => {\\n      var _a;\\n\\n      if (!event) return;\\n      const type = event.data.type;\\n      if (type === 'step') w.messages.step = event.data;\\n      if (type === 'log.add') _helpers__WEBPACK_IMPORTED_MODULE_2__.events.log(this, ...event.data.values);\\n\\n      if (type === 'comm') {\\n        const team = (_a = this.state.ships.find(s => s.id === w.id)) === null || _a === void 0 ? void 0 : _a.team;\\n\\n        if (team) {\\n          const shipsTeam = this.state.ships.filter(s => s.team === team).map(s => s.id);\\n          this.workers.filter(w => shipsTeam.includes(w.id)).map(w => w.messages.to.push(event.data.message));\\n        }\\n      }\\n\\n      if (type === 'error') console.error(event.data.error);\\n    });\\n    this.workers.map(w => {\\n      w.worker.postMessage({\\n        type: 'initialization',\\n        code: w.code\\n      });\\n    });\\n  }\\n\\n  step(nb) {\\n    return __awaiter(this, void 0, void 0, function* () {\\n      if (nb && nb > 1) return this.step(nb - 1);\\n      this.history.push(JSON.parse(JSON.stringify(this.state)));\\n      const instruction = yield getInstructions(this.state, this.workers);\\n      this.state = step(this.state, instruction, this);\\n      const previousEnd = this.state.endOfGame;\\n      this.state.endOfGame = this.gameEnder(this.state);\\n\\n      if (!previousEnd && this.state.endOfGame) {\\n        this.workers.forEach(w => w.worker.terminate());\\n        this.dispatchEvent(new Event('state.end'));\\n      }\\n\\n      return this.state;\\n    });\\n  }\\n\\n}\\n\\nconst instructionTurn = ({\\n  object,\\n  turn\\n}) => {\\n  if (turn.arg > 0) {\\n    return Object.assign(Object.assign({}, object), {\\n      position: Object.assign(Object.assign({}, object.position), {\\n        direction: (object.position.direction + Math.min(turn.arg, object.stats.turn) + TWO_PI) % TWO_PI\\n      })\\n    });\\n  } else {\\n    return Object.assign(Object.assign({}, object), {\\n      position: Object.assign(Object.assign({}, object.position), {\\n        direction: (object.position.direction + Math.max(turn.arg, -object.stats.turn) + TWO_PI) % TWO_PI\\n      })\\n    });\\n  }\\n};\\n\\nconst instructionThrust = ({\\n  object,\\n  thrust,\\n  maxSpeed\\n}) => {\\n  if (thrust.arg > 0) {\\n    const acceleration = Math.min(thrust.arg, object.stats.acceleration);\\n    return Object.assign(Object.assign({}, object), {\\n      position: Object.assign(Object.assign({}, object.position), {\\n        speed: maxSpeed ? Math.min(object.position.speed + acceleration, maxSpeed) : object.position.speed + acceleration\\n      })\\n    });\\n  } else {\\n    const acceleration = Math.max(thrust.arg, -object.stats.acceleration);\\n    return Object.assign(Object.assign({}, object), {\\n      position: Object.assign(Object.assign({}, object.position), {\\n        speed: maxSpeed ? Math.max(object.position.speed + acceleration, -maxSpeed) : object.position.speed + acceleration\\n      })\\n    });\\n  }\\n};\\n\\nconst instructionFire = ({\\n  ship,\\n  fire,\\n  newBullets\\n}) => {\\n  if (fire.arg < 0 || ship.weapons.length === 0) return ship;\\n  const weapon = ship.weapons[fire.arg];\\n  if (weapon.coolDown > 0 || weapon.amo === 0) return ship;\\n  const controller = weapon.bullet.builder && (fire === null || fire === void 0 ? void 0 : fire.target) ? weapon.bullet.builder()(fire.target) : undefined;\\n  const bullet = Object.assign(Object.assign({}, weapon.bullet), {\\n    id: ship.id + ship.bulletsFired,\\n    controller,\\n    position: {\\n      speed: weapon.bullet.position.speed + ship.position.speed,\\n      direction: ship.position.direction,\\n      pos: {\\n        x: ship.position.pos.x + (ship.stats.size + weapon.bullet.stats.size) * Math.cos(ship.position.direction),\\n        y: ship.position.pos.y + (ship.stats.size + weapon.bullet.stats.size) * Math.sin(ship.position.direction)\\n      }\\n    }\\n  });\\n  newBullets.push(bullet);\\n  ship.bulletsFired = ship.bulletsFired + 1;\\n  return Object.assign(Object.assign({}, ship), {\\n    weapons: ship.weapons.map((w, i) => i === fire.arg ? Object.assign(Object.assign({}, w), {\\n      coolDown: bullet.coolDown,\\n      amo: weapon.amo - 1\\n    }) : Object.assign({}, w))\\n  });\\n};\\n\\nconst applyInstruction = ({\\n  newBullets,\\n  maxSpeed\\n}) => ({\\n  ship,\\n  instruction\\n}) => {\\n  const STEALTH_TIME = 600;\\n  if (ship.destroyed) return ship;\\n  if (ship.stats.stealth && ship.stealth > 0) ship.stealth--;\\n\\n  switch (instruction.id) {\\n    case _control__WEBPACK_IMPORTED_MODULE_1__.INSTRUCTION.TURN:\\n      const turn = instruction;\\n      if (ship.stats.stealth) ship.stealth = STEALTH_TIME;\\n      return instructionTurn({\\n        object: ship,\\n        turn\\n      });\\n\\n    case _control__WEBPACK_IMPORTED_MODULE_1__.INSTRUCTION.THRUST:\\n      const thrust = instruction;\\n      if (ship.stats.stealth) ship.stealth = STEALTH_TIME;\\n      return instructionThrust({\\n        object: ship,\\n        thrust,\\n        maxSpeed\\n      });\\n\\n    case _control__WEBPACK_IMPORTED_MODULE_1__.INSTRUCTION.FIRE:\\n      const fire = instruction;\\n      if (ship.stats.stealth) ship.stealth = STEALTH_TIME;\\n      return instructionFire({\\n        ship,\\n        fire,\\n        newBullets\\n      });\\n\\n    default:\\n      return ship;\\n  }\\n};\\n\\nconst applyBulletsInstructions = ({\\n  state\\n}) => bullet => {\\n  if (bullet.controller) {\\n    const controller = bullet.controller;\\n    const radar = getRadarResults(bullet, state);\\n    const instruction = controller.next(bullet, radar);\\n\\n    switch (instruction.id) {\\n      case _control__WEBPACK_IMPORTED_MODULE_1__.INSTRUCTION.TURN:\\n        const turn = instruction;\\n        return instructionTurn({\\n          object: bullet,\\n          turn\\n        });\\n\\n      case _control__WEBPACK_IMPORTED_MODULE_1__.INSTRUCTION.THRUST:\\n        const thrust = instruction;\\n        return instructionThrust({\\n          object: bullet,\\n          thrust,\\n          maxSpeed: state.maxSpeed\\n        });\\n\\n      default:\\n        return bullet;\\n    }\\n  } else {\\n    return bullet;\\n  }\\n};\\n\\nconst checkCollisions = ({\\n  ships,\\n  engine\\n}) => b => {\\n  const destroyed = ships.find((0,_ship__WEBPACK_IMPORTED_MODULE_0__.collide)(b));\\n\\n  if (destroyed) {\\n    if (b.armed) destroyed.destroyed = true;\\n    b.destroyed = true;\\n    const detail = {\\n      ship: destroyed,\\n      bullet: b\\n    };\\n    engine.dispatchEvent(new CustomEvent('sprite.explosion', {\\n      detail\\n    }));\\n  }\\n\\n  return b;\\n};\\n\\nconst step = (state, instructions, engine) => {\\n  const newBullets = [];\\n  state.ships = state.ships.map(ship => ({\\n    ship,\\n    instruction: instructions.find(i => i.id === ship.id) || {\\n      id: ship.id,\\n      instruction: (0,_control__WEBPACK_IMPORTED_MODULE_1__.idle)()\\n    }\\n  })).map(({\\n    ship,\\n    instruction\\n  }) => ({\\n    ship,\\n    instruction: instruction.instruction\\n  })).map(applyInstruction({\\n    newBullets,\\n    maxSpeed: state.maxSpeed\\n  }));\\n  state.bullets = [...state.bullets, ...newBullets];\\n  const newState = new Array(10).fill(1).reduce((acc, _val) => allSteps(acc, engine), state);\\n  return Object.assign({}, newState);\\n};\\n\\nconst allSteps = (state, engine) => {\\n  const ships = state.ships.map(_ship__WEBPACK_IMPORTED_MODULE_0__.step);\\n  const stepBullets = state.bullets.map(applyBulletsInstructions({\\n    state\\n  })).map(_ship__WEBPACK_IMPORTED_MODULE_0__.bulletStep).map(checkCollisions({\\n    ships,\\n    engine\\n  }));\\n  const bullets = stepBullets.filter(b => !b.destroyed);\\n  engine.dispatchEvent(new CustomEvent('sprite.remove', {\\n    detail: stepBullets.filter(b => b.destroyed).map(b => b.id)\\n  }));\\n  return Object.assign(Object.assign({}, state), {\\n    ships,\\n    bullets,\\n    timeElapsed: state.timeElapsed + 1\\n  });\\n};\\n\\nconst getRadarResults = (ship, state) => ship.stats.detection ? state.ships.filter(s => s.id !== ship.id).filter(s => s.stealth > 0).filter((0,_ship__WEBPACK_IMPORTED_MODULE_0__.collide)({\\n  position: ship.position,\\n  stats: Object.assign(Object.assign({}, ship.stats), {\\n    size: ship.stats.detection\\n  })\\n})).map(s => ({\\n  size: s.stats.size,\\n  position: s.position,\\n  team: s.team,\\n  destroyed: s.destroyed\\n})) : [];\\n\\nconst getInstructions = (state, workers) => __awaiter(void 0, void 0, void 0, function* () {\\n  const contexts = workers.map(({\\n    id,\\n    worker,\\n    messages\\n  }) => ({\\n    worker,\\n    messages,\\n    ship: state.ships.find(s => s.id === id)\\n  })).filter(val => val.ship !== undefined).filter(val => {\\n    var _a;\\n\\n    return !((_a = val.ship) === null || _a === void 0 ? void 0 : _a.destroyed);\\n  }).map(context => ({\\n    id: context.ship.id,\\n    worker: context.worker,\\n    data: {\\n      stats: context.ship,\\n      messages: context.messages.to,\\n      radar: getRadarResults(context.ship, state)\\n    }\\n  }));\\n  workers.map(w => w.messages.step = undefined);\\n  contexts.filter(({\\n    worker\\n  }) => worker).forEach(({\\n    worker,\\n    data\\n  }) => {\\n    worker.postMessage({\\n      type: 'step',\\n      data: JSON.stringify(data)\\n    });\\n  });\\n  workers.map(w => w.messages.to = []);\\n  yield new Promise(resolve => setTimeout(resolve, 10));\\n  const results = workers.map(w => ({\\n    m: w.messages.step,\\n    id: w.id\\n  })).filter(({\\n    m\\n  }) => m).map(({\\n    m,\\n    id\\n  }) => ({\\n    instruction: m.res,\\n    id\\n  }));\\n  const collectedInstructions = workers.map(({\\n    id\\n  }) => {\\n    var _a;\\n\\n    return (_a = results.find(res => res.id === id)) !== null && _a !== void 0 ? _a : {\\n      id,\\n      instruction: (0,_control__WEBPACK_IMPORTED_MODULE_1__.idle)()\\n    };\\n  });\\n  return collectedInstructions;\\n});\\n\\n//# sourceURL=webpack://starship-compiler/../../../../../node_modules/@svb-41/engine/build/engine/index.js?\");\n\n/***/ }),\n\n/***/ \"../../../../../node_modules/@svb-41/engine/build/engine/ship.js\":\n/*!***********************************************************************!*\\\n  !*** ../../../../../node_modules/@svb-41/engine/build/engine/ship.js ***!\n  \\***********************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"SHIP_CLASS\\\": () => (/* binding */ SHIP_CLASS),\\n/* harmony export */   \\\"position\\\": () => (/* binding */ position),\\n/* harmony export */   \\\"step\\\": () => (/* binding */ step),\\n/* harmony export */   \\\"bulletStep\\\": () => (/* binding */ bulletStep),\\n/* harmony export */   \\\"dist2\\\": () => (/* binding */ dist2),\\n/* harmony export */   \\\"dist\\\": () => (/* binding */ dist),\\n/* harmony export */   \\\"collide\\\": () => (/* binding */ collide)\\n/* harmony export */ });\\n/** All possible classes for a Ship. */\\nvar SHIP_CLASS;\\n\\n(function (SHIP_CLASS) {\\n  SHIP_CLASS[\\\"DESTROYER\\\"] = \\\"DESTROYER\\\";\\n  SHIP_CLASS[\\\"FIGHTER\\\"] = \\\"FIGHTER\\\";\\n  SHIP_CLASS[\\\"STEALTH\\\"] = \\\"STEALTH\\\";\\n  SHIP_CLASS[\\\"CRUISER\\\"] = \\\"CRUISER\\\";\\n  SHIP_CLASS[\\\"BOMBER\\\"] = \\\"BOMBER\\\";\\n  SHIP_CLASS[\\\"SCOUT\\\"] = \\\"SCOUT\\\";\\n  SHIP_CLASS[\\\"BASE\\\"] = \\\"BASE\\\";\\n})(SHIP_CLASS || (SHIP_CLASS = {}));\\n/** Generates the next position of the position. */\\n\\n\\nconst position = position => {\\n  const x = Math.cos(position.direction) * position.speed + position.pos.x;\\n  const y = Math.sin(position.direction) * position.speed + position.pos.y;\\n  return Object.assign(Object.assign({}, position), {\\n    pos: {\\n      x,\\n      y\\n    }\\n  });\\n};\\n/** Generates the next state of the ship.\\n * Updates the position and updates weapons cool-down. */\\n\\nconst step = ship => {\\n  const weapons = ship.weapons.map(weapon => {\\n    const coolDown = weapon.coolDown > 0 ? weapon.coolDown - 1 : 0;\\n    return Object.assign(Object.assign({}, weapon), {\\n      coolDown\\n    });\\n  });\\n  return Object.assign(Object.assign({}, ship), {\\n    weapons,\\n    position: position(ship.position)\\n  });\\n};\\n/** Generates the next state of the bullet.\\n * Updates distance, destroyed and position. */\\n\\nconst bulletStep = bullet => Object.assign(Object.assign({}, bullet), {\\n  distance: bullet.distance + bullet.position.speed,\\n  destroyed: bullet.distance > bullet.range,\\n  armed: true,\\n  position: position(bullet.position)\\n});\\n/** Computes the square of the distance between the two positions.\\n * Useful when you need to compute quickly a distance to check collisions\\n * for example. */\\n\\nconst dist2 = (pos1, pos2) => {\\n  const x = Math.pow(pos1.pos.x - pos2.pos.x, 2);\\n  const y = Math.pow(pos1.pos.y - pos2.pos.y, 2);\\n  return x + y;\\n};\\n/** Computes the distance between two positions.\\n * Use it only if you really need something precise.\\n * Because of geometry, dist requires a call to Math.sqrt, which is costly.\\n * Use dist2 if you can handles squared values. */\\n\\nconst dist = (pos1, pos2) => {\\n  const squared = dist2(pos1, pos2);\\n  return Math.sqrt(squared);\\n};\\nconst collide = obj1 => obj2 => {\\n  const sizeOfTwos = Math.pow(obj1.stats.size + obj2.stats.size, 2);\\n  return dist2(obj1.position, obj2.position) < sizeOfTwos;\\n};\\n\\n//# sourceURL=webpack://starship-compiler/../../../../../node_modules/@svb-41/engine/build/engine/ship.js?\");\n\n/***/ }),\n\n/***/ \"../../../../../node_modules/@svb-41/engine/build/helpers/console.js\":\n/*!***************************************************************************!*\\\n  !*** ../../../../../node_modules/@svb-41/engine/build/helpers/console.js ***!\n  \\***************************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"log\\\": () => (/* binding */ log),\\n/* harmony export */   \\\"clear\\\": () => (/* binding */ clear),\\n/* harmony export */   \\\"logger\\\": () => (/* binding */ logger)\\n/* harmony export */ });\\nconst log = (...args) => {\\n  if (true) {\\n    console.log(...args);\\n  }\\n};\\nconst clear = () => postMessage({\\n  type: 'log.clear'\\n});\\nconst logger = (...values) => postMessage({\\n  type: 'log.add',\\n  values\\n});\\n\\n//# sourceURL=webpack://starship-compiler/../../../../../node_modules/@svb-41/engine/build/helpers/console.js?\");\n\n/***/ }),\n\n/***/ \"../../../../../node_modules/@svb-41/engine/build/helpers/events.js\":\n/*!**************************************************************************!*\\\n  !*** ../../../../../node_modules/@svb-41/engine/build/helpers/events.js ***!\n  \\**************************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"log\\\": () => (/* binding */ log),\\n/* harmony export */   \\\"clear\\\": () => (/* binding */ clear)\\n/* harmony export */ });\\nconst log = (emitter, ...args) => {\\n  const detail = {\\n    args\\n  };\\n  emitter.dispatchEvent(new CustomEvent('log.add', {\\n    detail\\n  }));\\n};\\nconst clear = emitter => {\\n  emitter.dispatchEvent(new Event('log.clear'));\\n};\\n\\n//# sourceURL=webpack://starship-compiler/../../../../../node_modules/@svb-41/engine/build/helpers/events.js?\");\n\n/***/ }),\n\n/***/ \"../../../../../node_modules/@svb-41/engine/build/helpers/geometry.js\":\n/*!****************************************************************************!*\\\n  !*** ../../../../../node_modules/@svb-41/engine/build/helpers/geometry.js ***!\n  \\****************************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"PI\\\": () => (/* binding */ PI),\\n/* harmony export */   \\\"TWO_PI\\\": () => (/* binding */ TWO_PI),\\n/* harmony export */   \\\"nextPosition\\\": () => (/* binding */ nextPosition),\\n/* harmony export */   \\\"angle\\\": () => (/* binding */ angle),\\n/* harmony export */   \\\"turnToTarget\\\": () => (/* binding */ turnToTarget),\\n/* harmony export */   \\\"aim\\\": () => (/* binding */ aim)\\n/* harmony export */ });\\n/* harmony import */ var _engine_ship__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../engine/ship */ \\\"../../../../../node_modules/@svb-41/engine/build/engine/ship.js\\\");\\n\\nconst PI = Math.PI;\\nconst TWO_PI = Math.PI * 2;\\n/** Returns the n-th position. */\\n\\nconst nextPosition = num => {\\n  return pos => {\\n    if (num > 0) return nextPosition(num - 1)((0,_engine_ship__WEBPACK_IMPORTED_MODULE_0__.position)(pos));\\n    return (0,_engine_ship__WEBPACK_IMPORTED_MODULE_0__.position)(pos);\\n  };\\n};\\n/** Returns the angle between the source and the target, in radians.\\n * The result is comprised between 0 and 2Ï€. */\\n\\nconst angle = ({\\n  source,\\n  target\\n}) => {\\n  const y = target.pos.y - source.pos.y;\\n  const x = target.pos.x - source.pos.x;\\n  const angle = Math.atan2(y, x);\\n  return angle < 0 ? angle + TWO_PI : angle;\\n};\\n/** Position the ship in direction of the target.\\n * delay can be set to try to forecast the position of the target\\n * and position at that place.\\n * For instance, if an enemy ship is going straight, you can forecast the\\n * future move and position the ship accordingly.\\n * delay defaults to 1. */\\n\\nconst turnToTarget = params => {\\n  const {\\n    delay = 1,\\n    source,\\n    ship\\n  } = params;\\n  const target = nextPosition(delay)(params.target);\\n  const agl = angle({\\n    source: params.source,\\n    target\\n  });\\n  const deltaAngle = (agl - source.direction + TWO_PI) % TWO_PI;\\n  return ship.turn(-deltaAngle + Math.PI);\\n};\\n/** Position the ship in direction of the target, and shoot if the target is in\\n * the fire range. The fire range is determined by the threshold. If\\n * angle(ship, target) is below the threshold, the fire range is fulfilled.\\n * threshold defaults to 0.1.\\n * delay can be set to try to forecast the position of the target\\n * and position at that place.\\n * For instance, if an enemy ship is going straight, you can forecast the\\n * future move and position the ship accordingly.\\n * delay defaults to 1.\\n * weapon can also be set to a number, corresponding to the index of the weapon\\n * you want to use. */\\n\\nconst aim = params => {\\n  const {\\n    delay = 1,\\n    threshold = 0.1,\\n    weapon = 0,\\n    source,\\n    ship\\n  } = params;\\n  const target = nextPosition(delay)(params.target);\\n  const agl = angle({\\n    source: params.source,\\n    target\\n  });\\n  const deltaAngle = (agl - source.direction + TWO_PI) % TWO_PI;\\n  if (deltaAngle < threshold) return ship.fire(weapon);\\n  return ship.turn(-deltaAngle + PI);\\n};\\n\\n//# sourceURL=webpack://starship-compiler/../../../../../node_modules/@svb-41/engine/build/helpers/geometry.js?\");\n\n/***/ }),\n\n/***/ \"../../../../../node_modules/@svb-41/engine/build/helpers/index.js\":\n/*!*************************************************************************!*\\\n  !*** ../../../../../node_modules/@svb-41/engine/build/helpers/index.js ***!\n  \\*************************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"console\\\": () => (/* reexport module object */ _console__WEBPACK_IMPORTED_MODULE_0__),\\n/* harmony export */   \\\"geometry\\\": () => (/* reexport module object */ _geometry__WEBPACK_IMPORTED_MODULE_1__),\\n/* harmony export */   \\\"events\\\": () => (/* reexport module object */ _events__WEBPACK_IMPORTED_MODULE_2__),\\n/* harmony export */   \\\"strings\\\": () => (/* reexport module object */ _strings__WEBPACK_IMPORTED_MODULE_3__),\\n/* harmony export */   \\\"settings\\\": () => (/* reexport module object */ _settings__WEBPACK_IMPORTED_MODULE_4__),\\n/* harmony export */   \\\"keyboard\\\": () => (/* reexport module object */ _keyboard__WEBPACK_IMPORTED_MODULE_5__),\\n/* harmony export */   \\\"radar\\\": () => (/* reexport module object */ _radar__WEBPACK_IMPORTED_MODULE_6__)\\n/* harmony export */ });\\n/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./console */ \\\"../../../../../node_modules/@svb-41/engine/build/helpers/console.js\\\");\\n/* harmony import */ var _geometry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./geometry */ \\\"../../../../../node_modules/@svb-41/engine/build/helpers/geometry.js\\\");\\n/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events */ \\\"../../../../../node_modules/@svb-41/engine/build/helpers/events.js\\\");\\n/* harmony import */ var _strings__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./strings */ \\\"../../../../../node_modules/@svb-41/engine/build/helpers/strings.js\\\");\\n/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./settings */ \\\"../../../../../node_modules/@svb-41/engine/build/helpers/settings.js\\\");\\n/* harmony import */ var _keyboard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./keyboard */ \\\"../../../../../node_modules/@svb-41/engine/build/helpers/keyboard.js\\\");\\n/* harmony import */ var _radar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./radar */ \\\"../../../../../node_modules/@svb-41/engine/build/helpers/radar.js\\\");\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n//# sourceURL=webpack://starship-compiler/../../../../../node_modules/@svb-41/engine/build/helpers/index.js?\");\n\n/***/ }),\n\n/***/ \"../../../../../node_modules/@svb-41/engine/build/helpers/keyboard.js\":\n/*!****************************************************************************!*\\\n  !*** ../../../../../node_modules/@svb-41/engine/build/helpers/keyboard.js ***!\n  \\****************************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"isCmd\\\": () => (/* binding */ isCmd)\\n/* harmony export */ });\\nconst isCmd = event => {\\n  return event.metaKey || event.altKey || event.ctrlKey;\\n};\\n\\n//# sourceURL=webpack://starship-compiler/../../../../../node_modules/@svb-41/engine/build/helpers/keyboard.js?\");\n\n/***/ }),\n\n/***/ \"../../../../../node_modules/@svb-41/engine/build/helpers/radar.js\":\n/*!*************************************************************************!*\\\n  !*** ../../../../../node_modules/@svb-41/engine/build/helpers/radar.js ***!\n  \\*************************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"closeEnemies\\\": () => (/* binding */ closeEnemies),\\n/* harmony export */   \\\"nearestEnemy\\\": () => (/* binding */ nearestEnemy)\\n/* harmony export */ });\\n/* harmony import */ var _engine_ship__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../engine/ship */ \\\"../../../../../node_modules/@svb-41/engine/build/engine/ship.js\\\");\\n\\n/** Get the enemies detected by the radar.\\n * Removes the allies detected by the radar.\\n * If options.all is set to true, it will also keep the destroyed ships.\\n * options.all is false by default. */\\n\\nfunction closeEnemies(radar, team, position, options) {\\n  var _a;\\n\\n  const keep = (_a = options === null || options === void 0 ? void 0 : options.all) !== null && _a !== void 0 ? _a : false;\\n  const alive = keep ? radar : radar.filter(r => r.team !== team && !r.destroyed);\\n  return alive.map(enemy => {\\n    const d = (0,_engine_ship__WEBPACK_IMPORTED_MODULE_0__.dist2)(enemy.position, position);\\n    return {\\n      enemy,\\n      dist2: d\\n    };\\n  });\\n}\\n\\nconst enemyByDist = enemies => {\\n  if (enemies.length === 0) return;\\n  return enemies.reduce((acc, val) => acc.dist2 > val.dist2 ? val : acc);\\n};\\n\\nfunction nearestEnemy(array, team, position, options) {\\n  if (array.length === 0) return;\\n\\n  if (array[0].enemy) {\\n    const enemies = array;\\n    return enemyByDist(enemies);\\n  } else {\\n    if (!position || !team) return;\\n    const radar = array;\\n    const enemies = closeEnemies(radar, team, position, options);\\n    return enemyByDist(enemies);\\n  }\\n}\\n\\n//# sourceURL=webpack://starship-compiler/../../../../../node_modules/@svb-41/engine/build/helpers/radar.js?\");\n\n/***/ }),\n\n/***/ \"../../../../../node_modules/@svb-41/engine/build/helpers/settings.js\":\n/*!****************************************************************************!*\\\n  !*** ../../../../../node_modules/@svb-41/engine/build/helpers/settings.js ***!\n  \\****************************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"getInitialSpeed\\\": () => (/* binding */ getInitialSpeed),\\n/* harmony export */   \\\"setInitialSpeed\\\": () => (/* binding */ setInitialSpeed)\\n/* harmony export */ });\\nconst getInitialSpeed = () => {\\n  var _a;\\n\\n  const stored = (_a = localStorage.getItem('state.initialSpeed')) !== null && _a !== void 0 ? _a : '1';\\n  const result = parseInt(stored, 10);\\n  return result;\\n};\\nconst setInitialSpeed = value => {\\n  if (true) {\\n    localStorage.setItem('state.initialSpeed', value.toString());\\n  }\\n};\\n\\n//# sourceURL=webpack://starship-compiler/../../../../../node_modules/@svb-41/engine/build/helpers/settings.js?\");\n\n/***/ }),\n\n/***/ \"../../../../../node_modules/@svb-41/engine/build/helpers/strings.js\":\n/*!***************************************************************************!*\\\n  !*** ../../../../../node_modules/@svb-41/engine/build/helpers/strings.js ***!\n  \\***************************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"prependZero\\\": () => (/* binding */ prependZero)\\n/* harmony export */ });\\nconst prependZero = num => {\\n  if (num < 10) {\\n    return `0${num}`;\\n  } else {\\n    return num.toString();\\n  }\\n};\\n\\n//# sourceURL=webpack://starship-compiler/../../../../../node_modules/@svb-41/engine/build/helpers/strings.js?\");\n\n/***/ }),\n\n/***/ \"../../../../../node_modules/@svb-41/engine/build/index.js\":\n/*!*****************************************************************!*\\\n  !*** ../../../../../node_modules/@svb-41/engine/build/index.js ***!\n  \\*****************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"engine\\\": () => (/* reexport module object */ _engine__WEBPACK_IMPORTED_MODULE_0__),\\n/* harmony export */   \\\"helpers\\\": () => (/* reexport module object */ _helpers__WEBPACK_IMPORTED_MODULE_1__)\\n/* harmony export */ });\\n/* harmony import */ var _engine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./engine */ \\\"../../../../../node_modules/@svb-41/engine/build/engine/index.js\\\");\\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helpers */ \\\"../../../../../node_modules/@svb-41/engine/build/helpers/index.js\\\");\\n\\n\\n\\n\\n\\n//# sourceURL=webpack://starship-compiler/../../../../../node_modules/@svb-41/engine/build/index.js?\");\n\n/***/ }),\n\n/***/ \"../../../../../node_modules/uuid/dist/esm-browser/regex.js\":\n/*!******************************************************************!*\\\n  !*** ../../../../../node_modules/uuid/dist/esm-browser/regex.js ***!\n  \\******************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"default\\\": () => (__WEBPACK_DEFAULT_EXPORT__)\\n/* harmony export */ });\\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i);\\n\\n//# sourceURL=webpack://starship-compiler/../../../../../node_modules/uuid/dist/esm-browser/regex.js?\");\n\n/***/ }),\n\n/***/ \"../../../../../node_modules/uuid/dist/esm-browser/rng.js\":\n/*!****************************************************************!*\\\n  !*** ../../../../../node_modules/uuid/dist/esm-browser/rng.js ***!\n  \\****************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"default\\\": () => (/* binding */ rng)\\n/* harmony export */ });\\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\\n// require the crypto API and do not support built-in fallback to lower quality random number\\n// generators (like Math.random()).\\nvar getRandomValues;\\nvar rnds8 = new Uint8Array(16);\\nfunction rng() {\\n  // lazy load so that environments that need to polyfill have a chance to do so\\n  if (!getRandomValues) {\\n    // getRandomValues needs to be invoked in a context where \\\"this\\\" is a Crypto implementation. Also,\\n    // find the complete implementation of crypto (msCrypto) on IE11.\\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\\n\\n    if (!getRandomValues) {\\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\\n    }\\n  }\\n\\n  return getRandomValues(rnds8);\\n}\\n\\n//# sourceURL=webpack://starship-compiler/../../../../../node_modules/uuid/dist/esm-browser/rng.js?\");\n\n/***/ }),\n\n/***/ \"../../../../../node_modules/uuid/dist/esm-browser/stringify.js\":\n/*!**********************************************************************!*\\\n  !*** ../../../../../node_modules/uuid/dist/esm-browser/stringify.js ***!\n  \\**********************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"default\\\": () => (__WEBPACK_DEFAULT_EXPORT__)\\n/* harmony export */ });\\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \\\"../../../../../node_modules/uuid/dist/esm-browser/validate.js\\\");\\n\\n/**\\n * Convert array of 16 byte values to UUID string format of the form:\\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\\n */\\n\\nvar byteToHex = [];\\n\\nfor (var i = 0; i < 256; ++i) {\\n  byteToHex.push((i + 0x100).toString(16).substr(1));\\n}\\n\\nfunction stringify(arr) {\\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0; // Note: Be careful editing this code!  It's been tuned for performance\\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\\n\\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\\n  // of the following:\\n  // - One or more input array values don't map to a hex octet (leading to\\n  // \\\"undefined\\\" in the uuid)\\n  // - Invalid input values for the RFC `version` or `variant` fields\\n\\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\\\"default\\\"])(uuid)) {\\n    throw TypeError('Stringified UUID is invalid');\\n  }\\n\\n  return uuid;\\n}\\n\\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (stringify);\\n\\n//# sourceURL=webpack://starship-compiler/../../../../../node_modules/uuid/dist/esm-browser/stringify.js?\");\n\n/***/ }),\n\n/***/ \"../../../../../node_modules/uuid/dist/esm-browser/v4.js\":\n/*!***************************************************************!*\\\n  !*** ../../../../../node_modules/uuid/dist/esm-browser/v4.js ***!\n  \\***************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"default\\\": () => (__WEBPACK_DEFAULT_EXPORT__)\\n/* harmony export */ });\\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rng.js */ \\\"../../../../../node_modules/uuid/dist/esm-browser/rng.js\\\");\\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ \\\"../../../../../node_modules/uuid/dist/esm-browser/stringify.js\\\");\\n\\n\\n\\nfunction v4(options, buf, offset) {\\n  options = options || {};\\n  var rnds = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_0__[\\\"default\\\"])(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\\n\\n  rnds[6] = rnds[6] & 0x0f | 0x40;\\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\\n\\n  if (buf) {\\n    offset = offset || 0;\\n\\n    for (var i = 0; i < 16; ++i) {\\n      buf[offset + i] = rnds[i];\\n    }\\n\\n    return buf;\\n  }\\n\\n  return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__[\\\"default\\\"])(rnds);\\n}\\n\\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v4);\\n\\n//# sourceURL=webpack://starship-compiler/../../../../../node_modules/uuid/dist/esm-browser/v4.js?\");\n\n/***/ }),\n\n/***/ \"../../../../../node_modules/uuid/dist/esm-browser/validate.js\":\n/*!*********************************************************************!*\\\n  !*** ../../../../../node_modules/uuid/dist/esm-browser/validate.js ***!\n  \\*********************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"default\\\": () => (__WEBPACK_DEFAULT_EXPORT__)\\n/* harmony export */ });\\n/* harmony import */ var _regex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./regex.js */ \\\"../../../../../node_modules/uuid/dist/esm-browser/regex.js\\\");\\n\\n\\nfunction validate(uuid) {\\n  return typeof uuid === 'string' && _regex_js__WEBPACK_IMPORTED_MODULE_0__[\\\"default\\\"].test(uuid);\\n}\\n\\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (validate);\\n\\n//# sourceURL=webpack://starship-compiler/../../../../../node_modules/uuid/dist/esm-browser/validate.js?\");\n\n/***/ }),\n\n/***/ \"../../../../../src/defaultId/test-to-delete-assault.ts\":\n/*!**************************************************************!*\\\n  !*** ../../../../../src/defaultId/test-to-delete-assault.ts ***!\n  \\**************************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"data\\\": () => (/* binding */ data),\\n/* harmony export */   \\\"ai\\\": () => (/* binding */ ai)\\n/* harmony export */ });\\n/* harmony import */ var _svb_41_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @svb-41/core */ \\\"../../../../../node_modules/@svb-41/core/build/index.js\\\");\\n\\nconst { dist2 } = _svb_41_core__WEBPACK_IMPORTED_MODULE_0__.geometry;\\nconst weaponType = (stats) => {\\n    const weapon = stats.weapons\\n        .map((w, i) => ({ w, i }))\\n        .find(({ w }) => w.coolDown === 0 && w.amo > 0);\\n    if (weapon)\\n        return weapon.i;\\n    return 0;\\n};\\nconst data = {};\\nconst ai = ({ stats, radar, memory, ship }) => {\\n    if (!memory.initialDir)\\n        memory.initialDir = stats.position.direction;\\n    if (stats.position.speed < 0.1)\\n        return ship.thrust();\\n    const ally = radar.find(res => {\\n        const isSameTeam = res.team === stats.team;\\n        if (!isSameTeam)\\n            return false;\\n        const source = stats.position;\\n        const target = _svb_41_core__WEBPACK_IMPORTED_MODULE_0__.geometry.nextPosition(200)(res.position);\\n        const finalAngle = _svb_41_core__WEBPACK_IMPORTED_MODULE_0__.geometry.angle({ source, target });\\n        const direction = finalAngle - stats.position.direction;\\n        return Math.abs(direction) < 0.1;\\n    });\\n    const near = _svb_41_core__WEBPACK_IMPORTED_MODULE_0__.radar.nearestEnemy(radar, stats.team, stats.position);\\n    if (near) {\\n        const source = stats.position;\\n        const target = near.enemy.position;\\n        const threshold = 4 / Math.sqrt(near.dist2);\\n        const speed = stats.weapons[0]?.bullet.position.speed;\\n        const delay = Math.sqrt(near.dist2) / speed;\\n        const resAim = _svb_41_core__WEBPACK_IMPORTED_MODULE_0__.geometry.aim({\\n            ship,\\n            source,\\n            target,\\n            threshold,\\n            delay,\\n            weapon: weaponType(stats),\\n        });\\n        if (resAim.id === _svb_41_core__WEBPACK_IMPORTED_MODULE_0__.Instruction.FIRE && ally)\\n            return ship.idle();\\n        return resAim;\\n    }\\n    const { direction } = stats.position;\\n    if (memory.initialDir - direction)\\n        return ship.turn(memory.initialDir - direction);\\n    return ship.idle();\\n};\\n\\n\\n//# sourceURL=webpack://starship-compiler/../../../../../src/defaultId/test-to-delete-assault.ts?\");\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t(() => {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = (exports, definition) => {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t(() => {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = (exports) => {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module can't be inlined because the eval devtool is used.\n/******/ \tvar __webpack_exports__ = __webpack_require__(\"../../../../../src/defaultId/test-to-delete-assault.ts\");\n/******/ \tvar __webpack_export_target__ = this;\n/******/ \tfor(var i in __webpack_exports__) __webpack_export_target__[i] = __webpack_exports__[i];\n/******/ \tif(__webpack_exports__.__esModule) Object.defineProperty(__webpack_export_target__, \"__esModule\", { value: true });\n/******/ \t\n/******/ })()\n;"